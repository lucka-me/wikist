(function(e){function t(t){for(var s,c,a=t[0],l=t[1],o=t[2],b=0,p=[];b<a.length;b++)c=a[b],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&p.push(n[c][0]),n[c]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,o||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],s=!0,a=1;a<i.length;a++){var l=i[a];0!==n[l]&&(s=!1)}s&&(r.splice(t--,1),e=c(c.s=i[0]))}return e}var s={},n={app:0},r=[];function c(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=e,c.c=s,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(i,s,function(t){return e[t]}.bind(null,s));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/wikist/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"0291":function(e,t,i){"use strict";i("1835")},"0e9c":function(e,t,i){"use strict";i("b0d4")},1835:function(e,t,i){},"28c5":function(e){e.exports=JSON.parse('{"name":"Lucka","avatar":"https://s.gravatar.com/avatar/f03d18971cd558e09f51ad19923bf077?s=256","babels":[{"lang":"zh","level":"N"},{"lang":"en","level":"2"}]}')},"453f":function(e,t,i){"use strict";i("7186")},"58b9":function(e,t,i){"use strict";i("feaf")},7186:function(e,t,i){},"7a44":function(e){e.exports=JSON.parse('[{"url":"https://wiki.52poke.com","user":"卢卡"},{"url":"https://zh.wikipedia.org/w","user":"卢卡"},{"url":"https://zh.moegirl.org.cn","user":"卢卡"},{"url":"https://thwiki.cc","user":"卢卡"},{"url":"https://wiki.llsif.moe","user":"Lucka"}]')},b0d4:function(e,t,i){},cd49:function(e,t,i){"use strict";i.r(t);var s=i("7a23");const n=Object(s["e"])("header",null,[Object(s["e"])("h1",null,"Wikist")],-1),r=Object(s["e"])("div",{class:"header-adjust"},null,-1);function c(e,t,i,c,a,l){const o=Object(s["l"])("status"),u=Object(s["l"])("wiki-list");return Object(s["f"])(),Object(s["c"])(s["a"],null,[n,r,Object(s["e"])(o,{profile:e.profile,wikis:e.wikis},null,8,["profile","wikis"]),Object(s["e"])(u,{wikis:e.wikis},null,8,["wikis"])],64)}var a,l=i("9ab4"),o=i("ce1f"),u=i("28c5"),b=i("7a44");class p{constructor(){this.url="",this.user="",this.title="",this.base="",this.logo="",this.server="",this.articlePath="",this.uid=0,this.registration=0,this.edits=0}query(e){fetch(`${this.url}/api.php?action=query&meta=siteinfo&siprop=general&list=users&ususers=${this.user}&usprop=editcount|registration&format=json&origin=*`).then(e=>e.json()).then(t=>{const i=t.query.general;this.title=i.sitename,this.base=i.base,this.logo=i.logo,this.server=i.server,this.server.match(/^\/\//)&&(this.server="https:"+this.server),this.articlePath=`${this.server}${i.articlepath}`;const s=t.query.users[0];this.uid=s.userid,this.registration=Date.parse(s.registration),this.edits=s.editcount,e(!0)}).catch(()=>e(!1))}get since(){return new Date(this.registration).toLocaleDateString()}get userPage(){return this.articlePath.replace("$1","User:"+this.user)}static parse(e){const t=new p;return t.url=e.url,t.user=e.user,t}}(function(e){function t(){e.wikis.length=0;let t=0;for(const s of b){const n=p.parse(s);n.query(s=>{s&&e.wikis.push(n),t+=1,t===b.length&&i()})}}function i(){e.wikis.sort((e,t)=>t.edits-e.edits),e.events.idle()}e.profile=u,e.wikis=[],e.events={idle:()=>{}},e.start=t})(a||(a={}));const O=Object(s["n"])("data-v-dedb90a6");Object(s["i"])("data-v-dedb90a6");const j={class:"status"},d={key:0},f={key:1},h=Object(s["e"])("span",null,"Since",-1),k={key:2},g=Object(s["e"])("span",null,"Edits",-1),w={class:"list"};Object(s["g"])();const v=O((e,t,i,n,r,c)=>(Object(s["f"])(),Object(s["c"])("div",j,[Object(s["e"])("img",{src:e.profile.avatar,alt:"Avatar"},null,8,["src"]),Object(s["e"])("div",null,[Object(s["e"])("h2",null,Object(s["m"])(e.profile.name),1),e.wikis.length>0?(Object(s["f"])(),Object(s["c"])("span",d,[Object(s["e"])("span",null,"Wiki"+Object(s["m"])(e.wikis.length>1?"s":""),1),Object(s["e"])("span",null,Object(s["m"])(e.wikis.length),1)])):Object(s["d"])("",!0),e.wikis.length>0?(Object(s["f"])(),Object(s["c"])("span",f,[h,Object(s["e"])("span",null,Object(s["m"])(e.since),1)])):Object(s["d"])("",!0),e.wikis.length>0?(Object(s["f"])(),Object(s["c"])("span",k,[g,Object(s["e"])("span",null,Object(s["m"])(Number(e.edits).toLocaleString()),1)])):Object(s["d"])("",!0),Object(s["e"])("span",null,[Object(s["e"])("span",null,"Babel"+Object(s["m"])(e.profile.babels.length>1?"s":""),1),Object(s["e"])("span",w,[(Object(s["f"])(!0),Object(s["c"])(s["a"],null,Object(s["k"])(e.profile.babels,e=>(Object(s["f"])(),Object(s["c"])("span",{key:e.lang},Object(s["m"])(e.lang)+"-"+Object(s["m"])(e.level),1))),128))])])])])));let m=class extends o["b"]{get since(){const e=this.wikis.reduce((e,t)=>Math.min(e,t.registration),Date.now());return new Date(e).getFullYear()}get edits(){return this.wikis.reduce((e,t)=>e+t.edits,0)}};m=Object(l["a"])([Object(o["a"])({props:{profile:Object,wikis:Array}})],m);var y=m;i("58b9");y.render=v,y.__scopeId="data-v-dedb90a6";var _=y;const P=Object(s["n"])("data-v-1886254b");Object(s["i"])("data-v-1886254b");const S={class:"wiki-list"},x={key:0,class:"loading"};Object(s["g"])();const L=P((e,t,i,n,r,c)=>{const a=Object(s["l"])("wiki-list-item");return Object(s["f"])(),Object(s["c"])("div",S,[e.wikis.length<1?(Object(s["f"])(),Object(s["c"])("span",x,"Loading...")):Object(s["d"])("",!0),(Object(s["f"])(!0),Object(s["c"])(s["a"],null,Object(s["k"])(e.wikis,e=>(Object(s["f"])(),Object(s["c"])(a,{wiki:e,key:e.title},null,8,["wiki"]))),128))])}),q=Object(s["n"])("data-v-367a34bc");Object(s["i"])("data-v-367a34bc");const D={class:"wiki-list-item"},M=Object(s["e"])("span",null,"Since",-1);Object(s["g"])();const N=q((e,t,i,n,r,c)=>(Object(s["f"])(),Object(s["c"])("div",D,[Object(s["e"])("img",{src:e.wiki.logo,alt:"Logo"},null,8,["src"]),Object(s["e"])("div",null,[Object(s["e"])("h2",null,[Object(s["e"])("a",{href:e.wiki.base,title:"Homepage",target:"_blank",rel:"noopener"},Object(s["m"])(e.wiki.title),9,["href"])]),Object(s["e"])("span",null,[Object(s["e"])("a",{href:e.wiki.userPage,title:"User Page",target:"_blank",rel:"noopener"},Object(s["m"])(e.wiki.user),9,["href"]),Object(s["e"])("span",null,"#"+Object(s["m"])(e.wiki.uid),1)]),Object(s["e"])("span",null,[M,Object(s["e"])("span",null,Object(s["m"])(e.wiki.since),1)]),Object(s["e"])("span",null,[Object(s["e"])("span",null,"Edit"+Object(s["m"])(e.wiki.edits>1?"s":""),1),Object(s["e"])("span",null,Object(s["m"])(Number(e.wiki.edits).toLocaleString()),1)])])])));let $=class extends o["b"]{};$=Object(l["a"])([Object(o["a"])({props:{wiki:p}})],$);var I=$;i("0291");I.render=N,I.__scopeId="data-v-367a34bc";var J=I;let W=class extends o["b"]{};W=Object(l["a"])([Object(o["a"])({props:{wikis:Array},components:{WikiListItem:J}})],W);var z=W;i("0e9c");z.render=L,z.__scopeId="data-v-1886254b";var A=z;let E=class extends o["b"]{constructor(){super(...arguments),this.profile=a.profile,this.wikis=[]}created(){a.events.idle=()=>{this.wikis=a.wikis},a.start()}};E=Object(l["a"])([Object(o["a"])({components:{Status:_,WikiList:A}})],E);var T=E;i("453f");T.render=c;var U=T;Object(s["b"])(U).mount(".app")},feaf:function(e,t,i){}});
//# sourceMappingURL=app.a7e6e631.js.map