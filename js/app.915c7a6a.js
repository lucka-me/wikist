(function(t){function e(e){for(var s,r,a=e[0],l=e[1],o=e[2],u=0,j=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&j.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);b&&b(e);while(j.length)j.shift()();return c.push.apply(c,o||[]),i()}function i(){for(var t,e=0;e<c.length;e++){for(var i=c[e],s=!0,a=1;a<i.length;a++){var l=i[a];0!==n[l]&&(s=!1)}s&&(c.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},n={app:0},c=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/wikist/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var o=0;o<a.length;o++)e(a[o]);var b=l;c.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"227d":function(t,e,i){"use strict";i("d942")},"2a42":function(t,e,i){"use strict";i("6548")},"2c7e":function(t){t.exports=JSON.parse('{"profile":{"name":"Lucka","avatar":"https://s.gravatar.com/avatar/f03d18971cd558e09f51ad19923bf077?s=180","babels":[{"lang":"zh","level":"N"},{"lang":"en","level":2}]},"wikis":[{"url":"https://wiki.52poke.com","user":"卢卡"},{"url":"https://zh.wikipedia.org/w","user":"卢卡"},{"url":"https://zh.moegirl.org.cn","user":"卢卡"},{"url":"https://thwiki.cc","user":"卢卡"},{"url":"https://wiki.llsif.moe","user":"Lucka"}],"project":[{"publicPath":"/wikist/"}]}')},"347a":function(t,e,i){"use strict";i("90f2")},6548:function(t,e,i){},"90f2":function(t,e,i){},b2cf:function(t,e,i){"use strict";i("c881")},c881:function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);var s=i("7a23");const n=Object(s["f"])("header",null,[Object(s["f"])("h1",null,"Wikist")],-1),c=Object(s["f"])("div",{class:"header-adjust"},null,-1);function r(t,e,i,r,a,l){const o=Object(s["m"])("status"),b=Object(s["m"])("wiki-list");return Object(s["g"])(),Object(s["d"])(s["a"],null,[n,c,Object(s["f"])(o,{profile:t.profile,wikis:t.wikis},null,8,["profile","wikis"]),Object(s["f"])(b,{wikis:t.wikis,loading:t.loading},null,8,["wikis","loading"])],64)}var a=i("9ab4"),l=i("ce1f"),o=i("2c7e");const b={TIME_ACTIVE:2592e6};class u{constructor(){this.url="",this.user="",this.title="",this.base="",this.logo="",this.server="",this.articlePath="",this.uid=0,this.registration=0,this.edits=0,this.lastEdit=0,this.tags=[]}query(t){const e=this.url+"/api.php?action=query&meta=siteinfo&siprop=general&list=users|usercontribs"+`&ususers=${this.user}&usprop=editcount|registration`+`&ucuser=${this.user}&uclimit=1&ucprop=timestamp&format=json&origin=*`;fetch(e).then(t=>t.json()).then(e=>{const i=e.query.general;this.title=i.sitename,this.base=i.base,this.logo=i.logo,this.server=i.server,this.server.match(/^\/\//)&&(this.server="https:"+this.server),this.articlePath=`${this.server}${i.articlepath}`;const s=e.query.users[0];if(this.uid=s.userid,this.registration=Date.parse(s.registration),this.edits=s.editcount,e.query.usercontribs.length>0){const t=e.query.usercontribs[0];this.lastEdit=Date.parse(t.timestamp),Date.now()-this.lastEdit<b.TIME_ACTIVE&&this.tags.push("active")}t(!0)}).catch(()=>t(!1))}get lastEditDate(){return new Date(this.lastEdit).toLocaleDateString()}get since(){return new Date(this.registration).toLocaleDateString()}get userPage(){return this.articlePath.replace("$1","User:"+this.user)}static parse(t){const e=new u;return e.url=t.url,e.user=t.user,e}}const j=Object(s["o"])("data-v-4343d5ff");Object(s["j"])("data-v-4343d5ff");const p={class:"status"},O={key:0},d={key:1},f=Object(s["f"])("span",null,"Since",-1),h={key:2},g=Object(s["f"])("span",null,"Edits",-1),k={key:3},w={class:"list"};Object(s["h"])();const v=j((t,e,i,n,c,r)=>(Object(s["g"])(),Object(s["d"])("div",p,[Object(s["f"])("img",{src:t.profile.avatar,alt:"Avatar"},null,8,["src"]),Object(s["f"])("div",null,[Object(s["f"])("h2",null,Object(s["n"])(t.profile.name),1),t.wikis.length>0?(Object(s["g"])(),Object(s["d"])("span",O,[Object(s["f"])("span",null,"Wiki"+Object(s["n"])(t.wikis.length>1?"s":""),1),Object(s["f"])("span",null,Object(s["n"])(t.wikis.length),1)])):Object(s["e"])("",!0),t.wikis.length>0?(Object(s["g"])(),Object(s["d"])("span",d,[f,Object(s["f"])("span",null,Object(s["n"])(t.since),1)])):Object(s["e"])("",!0),t.wikis.length>0?(Object(s["g"])(),Object(s["d"])("span",h,[g,Object(s["f"])("span",null,Object(s["n"])(Number(t.edits).toLocaleString()),1)])):Object(s["e"])("",!0),t.profile.babels&&t.profile.babels.length>0?(Object(s["g"])(),Object(s["d"])("span",k,[Object(s["f"])("span",null,"Babel"+Object(s["n"])(t.profile.babels.length>1?"s":""),1),Object(s["f"])("span",w,[(Object(s["g"])(!0),Object(s["d"])(s["a"],null,Object(s["l"])(t.profile.babels,t=>(Object(s["g"])(),Object(s["d"])("span",{key:t.lang},Object(s["n"])(t.lang)+"-"+Object(s["n"])(t.level),1))),128))])])):Object(s["e"])("",!0)])])));let m=class extends l["b"]{get since(){const t=this.wikis.reduce((t,e)=>Math.min(t,e.registration),Date.now());return new Date(t).getFullYear()}get edits(){return this.wikis.reduce((t,e)=>t+e.edits,0)}};m=Object(a["a"])([Object(l["a"])({props:{profile:Object,wikis:Array}})],m);var y=m;i("b2cf");y.render=v,y.__scopeId="data-v-4343d5ff";var _=y;const E=Object(s["o"])("data-v-8dce8ba4");Object(s["j"])("data-v-8dce8ba4");const P={class:"wiki-list"},S={key:0,class:"loading"};Object(s["h"])();const x=E((t,e,i,n,c,r)=>{const a=Object(s["m"])("wiki-list-item");return Object(s["g"])(),Object(s["d"])("div",P,[Object(s["f"])(s["b"],{name:"wiki-list"},{default:E(()=>[(Object(s["g"])(!0),Object(s["d"])(s["a"],null,Object(s["l"])(t.wikis,t=>(Object(s["g"])(),Object(s["d"])(a,{wiki:t,key:t.title},null,8,["wiki"]))),128)),t.loading?(Object(s["g"])(),Object(s["d"])("span",S,"Loading...")):Object(s["e"])("",!0)]),_:1})])}),D=Object(s["o"])("data-v-862b7f70");Object(s["j"])("data-v-862b7f70");const L={class:"wiki-list-item"},I={key:0,class:"tags"},q=Object(s["f"])("span",null,"Since",-1),M={key:1},T=Object(s["f"])("span",null,"Last Edit",-1);Object(s["h"])();const A=D((t,e,i,n,c,r)=>(Object(s["g"])(),Object(s["d"])("div",L,[Object(s["f"])("a",{href:t.wiki.base,title:"Homepage",target:"_blank",rel:"noopener",class:"logo"},[Object(s["f"])("img",{src:t.wiki.logo,alt:t.wiki.title},null,8,["src","alt"])],8,["href"]),Object(s["f"])("div",null,[Object(s["f"])("h2",null,Object(s["n"])(t.wiki.title),1),t.wiki.tags.length>0?(Object(s["g"])(),Object(s["d"])("span",I,[(Object(s["g"])(!0),Object(s["d"])(s["a"],null,Object(s["l"])(t.wiki.tags,t=>(Object(s["g"])(),Object(s["d"])("span",{key:t},"#"+Object(s["n"])(t),1))),128))])):Object(s["e"])("",!0),Object(s["f"])("span",null,[Object(s["f"])("a",{href:t.wiki.userPage,title:"User Page",target:"_blank",rel:"noopener"},Object(s["n"])(t.wiki.user),9,["href"]),Object(s["f"])("span",null,"#"+Object(s["n"])(t.wiki.uid),1)]),Object(s["f"])("span",null,[q,Object(s["f"])("span",null,Object(s["n"])(t.wiki.since),1)]),Object(s["f"])("span",null,[Object(s["f"])("span",null,"Edit"+Object(s["n"])(t.wiki.edits>1?"s":""),1),Object(s["f"])("span",null,Object(s["n"])(Number(t.wiki.edits).toLocaleString()),1)]),t.wiki.lastEdit>0?(Object(s["g"])(),Object(s["d"])("span",M,[T,Object(s["f"])("span",null,Object(s["n"])(t.wiki.lastEditDate),1)])):Object(s["e"])("",!0)])])));let $=class extends l["b"]{};$=Object(a["a"])([Object(l["a"])({props:{wiki:u}})],$);var N=$;i("2a42");N.render=A,N.__scopeId="data-v-862b7f70";var W=N;let z=class extends l["b"]{};z=Object(a["a"])([Object(l["a"])({props:{loading:Boolean,wikis:Array},components:{WikiListItem:W}})],z);var J=z;i("227d");J.render=x,J.__scopeId="data-v-8dce8ba4";var B=J;let C=class extends l["b"]{constructor(){super(...arguments),this.profile=o.profile,this.wikis=[],this.loading=!0}mounted(){this.wikis.length=0;let t=0;for(const e of o.wikis){const i=u.parse(e);i.query(e=>{e&&(this.wikis.push(i),this.wikis.sort((t,e)=>e.edits-t.edits)),t+=1,t===o.wikis.length&&(this.loading=!1)})}}};C=Object(a["a"])([Object(l["a"])({components:{Status:_,WikiList:B}})],C);var U=C;i("347a");U.render=r;var V=U;Object(s["c"])(V).mount(".app")},d942:function(t,e,i){}});
//# sourceMappingURL=app.915c7a6a.js.map